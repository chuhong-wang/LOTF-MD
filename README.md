** MLIP Registration: https://mlip.skoltech.ru/download


<!---
chuhong-wang/chuhong-wang is a ✨ special ✨ repository because its `README.md` (this file) appears on your GitHub profile.
You can click the Preview link to take a look at your changes.
--->

Get started with learning on-the-fly MD (LOTF-MD) 

1. Compile MLIP 
2. Installation (VASP is already available)
3. LOTF_MD_test.sh

## Dependencies
First, MLIP-2 and LAMMPS with mlip interface need to be installed. <br>
    1. MLIP (-> make test) <br>
    2. Lammps interface with MLIP <br>
    3. Lammps  <br>
    4. Pymatgen (pre- and post- data processing)<br> 

## Test MTP training and MTP-MD on Lammps
User-defined values <br>
1. VASP path, mlp path, LAMMPS path <br>
2. training weight energy-force-stress <br>

convert AIMD OUTCAR to MLIP input file format .cfg
```
mlp convert-cfg OUTCAR train.cfg --input-format=vasp-outcar
```
initiate MTP training 
```
mpirun mlp train pot.mtp train.cfg --max-iter=100 --energy-weight=100 --force-weight=0.1 --stress-weight=1 --curr-pot-name=pot.mtp --trained-pot-name=pot.mtp
```
compute the matrix later used for extrapolation grade calculation
```
mlp calc-grade pot.mtp train.cfg train.cfg temp.cfg 
```
run MTP-MD with active learning on LAMMPS
Before running MTP, you need the input files 
1. input_lmp (lammps MD setting) 
2. mlip.ini (MTP interface, call the trained MTP)
3. start.inp (structure data file, generated by obtain_lmp_inputData.py from POSCAR or CONTCAR)

```
python obtain_lmp_inputData.py
lmp_g++_serial < input_lmp
```

